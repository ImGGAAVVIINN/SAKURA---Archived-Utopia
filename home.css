@font-face {
    font-family: 'Frutiger';
    src: url('fonts/frutiger/Frutiger.ttf') format('truetype');
}

.intro,
.sticky-cols,
.outro {
    font-family: 'Frutiger', sans-serif;
}

/* Background video styles for theKey.mp4 — positioned fixed so it covers the
   viewport and is allowed to "bleed" slightly into the intro/outro sections */
.bg-key-wrap {
    /* Scoped to the sticky section: absolutely positioned within
       .sticky-cols-wrapper so it doesn't cover the whole page. */
    position: absolute;
    top: -12vh; /* increase bleed so a little bit shows into intro/outro */
    /* extend horizontally past the sticky section padding so the video
       fills the full width without visible gaps */
    left: -0.5rem;
    right: -0.5rem;
    bottom: -12vh;
    z-index: 0;
    pointer-events: none;
    overflow: visible; /* allow the visible bleed to escape its box */
}
.bg-key {
    --bleed-fade: 8vh; /* how much of the top/bottom edge should fade; match intro fade */
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    object-fit: cover;
    display: block;
    transform: translateZ(0);
    /* No darkening; use the raw video as requested */
    opacity: 1;
    /* Fade the video out near the top and bottom so it bleeds softly into
       the intro/outro sections. Use mask-image with a gradient and include
       -webkit- prefix for Safari support. */
    -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,0) 0px, rgba(0,0,0,1) var(--bleed-fade), rgba(0,0,0,1) calc(100% - var(--bleed-fade)), rgba(0,0,0,0) 100%);
    mask-image: linear-gradient(to bottom, rgba(0,0,0,0) 0px, rgba(0,0,0,1) var(--bleed-fade), rgba(0,0,0,1) calc(100% - var(--bleed-fade)), rgba(0,0,0,0) 100%);
    -webkit-mask-size: 100% 100%;
    -webkit-mask-repeat: no-repeat;
    mask-size: 100% 100%;
    mask-repeat: no-repeat;
}

/* Fallback style when the video resource is missing/unavailable */

/* Fallback when resource missing — scoped to the sticky section */
.sticky-cols.bg-key-missing .bg-key-wrap {
    background: linear-gradient(180deg,#0b1220,#1a2433);
}

/* Ensure sticky section content sits above the video */
.sticky-cols .col {
    z-index: 3; /* keep columns above the bg video and intro */
}
.sticky-cols .col-content,
.sticky-cols .col-img {
    z-index: 2;
    position: relative; /* ensure z-index creates stacking context for inner elements */
}

/* Allow sticky section to show the video bleed outside its own bounds */
.sticky-cols {
    overflow: visible;
}

/* Intro background: use tmp.png and blend it with the video that bleeds up
   from the sticky section. The intro image fades at its bottom edge so the
   video's fade beneath it blends smoothly. */
.intro {
    position: relative;
    z-index: 2; /* sit above the video but below sticky columns */
    overflow: visible;
    max-height: 95svh; /* prevent overly tall intro on very large viewports */
}
.intro::before {
    content: '';
    position: absolute;
    inset: 0;
    /* correct path to the asset in images/ */
    background: center / cover no-repeat url('images/screenshot.png');
    mix-blend-mode: overlay; /* blend with the video beneath */
    opacity: 0.98;
    pointer-events: none;
    z-index: 0;
    /* fade out at bottom so the video bleed shows through smoothly */
    --intro-fade: 8vh;
    -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0, rgba(0,0,0,1) calc(100% - var(--intro-fade)), rgba(0,0,0,0) 100%);
    mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0, rgba(0,0,0,1) calc(100% - var(--intro-fade)), rgba(0,0,0,0) 100%);
}

/* ensure intro content sits above its background pseudo-element */
.intro > * {
    position: relative;
    z-index: 1;
}

/* Avoid autoplay heavy video on small screens — hide video under a small viewport */
@media (max-width: 700px) {
    .bg-key-wrap { display: none; }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* prevent horizontal scrolling caused by elements sized with 100vw or
   absolute children pushed outside the viewport */
html, body {
    overflow-x: hidden;
}

section {
    position: relative;
    /* avoid 100vw which can exceed the viewport when a vertical scrollbar
       is present; use 100% to match the parent's width */
    width: 100%;
    height: 100svh;
    overflow: hidden;
}

h1 {
    font-size: 2.5rem;
    font-weight: 500;
    line-height: 1.1;
}

p {
    font-size: 1rem;
    font-weight: 500;
}

img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.intro,
.outro {
    display: flex;
    justify-content: center;
    align-items: center;
}

.intro h1,
.outro h1 {
    width: 50%;
    text-align: center;
}

.sticky-cols {
    padding: 0.5rem;
}

.sticky-cols-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
}

.col {
    position: absolute;
    width: 50%;
    height: 100%;
    will-change: transform;
}

.col h2 {
    color: cyan;
    width: 60%;
}

.col p {
    color: red;
    width: 60%;
}

.col-2 {
    transform: translateX(100%);
}

.col-3 {
    transform: translateX(100%) translateY(100%);
    padding: 0.5rem;
}

.col-4 {
    transform: translateX(100%) translateY(100%);
}

.col-content, .col-img {
    position: relative;
    width: 100%;
    height: 100%;
    padding: 0.5rem;
}

.col-content-wrapper, .col-img-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    background-color: yellow;
    border-radius: 3rem;
    overflow: hidden;
}

/* When the background video is present (scoped to .sticky-cols), make the
   "cards" slightly translucent so the video can be seen through them. */
.sticky-cols.has-bg-key .col-content-wrapper {
    background-color: transparent; /* allow liquid glass effect to show through */
}
.sticky-cols.has-bg-key .col-img-wrapper {
    background-color: inherit; /* restore default */
}

.col-content-wrapper {
    padding: 2.5rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* ===== Liquid Glass Effect ===== */
.col-content-wrapper.liquid-glass,
.col-content-wrapper-2.liquid-glass {
    --border-radius: 3rem;
    background-color: transparent !important;
}

.liquid-glass--bend {
    backdrop-filter: blur(12px);
    border-radius: var(--border-radius, 3rem);
    filter: url(#glass-blur);
    inset: 0;
    position: absolute;
    z-index: 0;
}

.liquid-glass--face {
    border-radius: var(--border-radius, 3rem);
    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.15), 0 0 12px rgba(0, 0, 0, 0.08);
    background: rgba(255, 183, 197, 0.2);
    inset: 0;
    position: absolute;
    z-index: 1;
}

.liquid-glass--edge {
    border-radius: var(--border-radius, 3rem);
    box-shadow: inset 3px 3px 3px 0 rgba(255, 255, 255, 0.45),
        inset -3px -3px 3px 0 rgba(255, 255, 255, 0.45);
    inset: 0;
    position: absolute;
    z-index: 2;
}

/* Ensure content inside liquid glass sits above the glass layers */
.col-content-wrapper.liquid-glass > *:not(.liquid-glass--bend):not(.liquid-glass--face):not(.liquid-glass--edge) {
    position: relative;
    z-index: 3;
}

.col-content-wrapper-2 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 2.5rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* Liquid glass for col-content-wrapper-2 */
.col-content-wrapper-2.liquid-glass {
    --border-radius: 3rem;
    background-color: transparent;
}

.col-content-wrapper-2.liquid-glass > *:not(.liquid-glass--bend):not(.liquid-glass--face):not(.liquid-glass--edge) {
    position: relative;
    z-index: 3;
}

.col-img-1, 
.col-img-2 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.col-img-2 {
    clip-path: polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%);
}

.col-img-2 img {
    transform: scale(1.25);
}

.line {
    overflow: hidden;
}

.line span {
    display: block;
    will-change: transform;
}

@media (max-width: 1000px) {
    h1 {
        font-size: 1.25rem;
    }

    p {
        font-size: 0.85rem;
    }

    .col h1,
    .col p {
        width: 100%;
    }

    .col-content-wrapper, 
    .col-content-wrapper-2 {
        padding: 2rem;
    }
}

/* ===== Taskbar styles copied from tmp/taskbarExample.css ===== */
/* Kept scoped to avoid interference with existing page styles */
.taskbar-container {
    position: relative;
    width: 100%;
    box-sizing: border-box;
    padding: 0.25rem 0.5rem;
    display: block;
    height: 3.75rem; /* matches example height */
}
.taskbar-container:before {
    content: '';
    position: absolute;
    inset: 0;
    z-index: 0;
    background: rgba(255,255,255,0.03);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}
.taskbar-container .title-bar {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    height: 100%;
}
.taskbar-btns {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1 1 auto;
    height: 100%;
}
.taskbar-btn {
    height: 2.5rem;
    min-width: 2.5rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.5rem;
    position: relative;
    padding: 0.25rem;
}
.taskbar-btn>div { position: relative; }
.taskbar-btn img { width: 1.6rem; height: 1.6rem; display: block; }
.taskbar-btn.active { box-shadow: 0 6px 20px rgba(0,0,0,0.25); }
.start-button img { width: 2rem; height: 2rem; display: block; }
#spotlight-button { width: 2.5rem; height: 2.5rem; display:flex; align-items:center; justify-content:center; }
#spotlight-button svg { width: 1.25rem; height: 1.25rem; }
.clock { min-width: 4.5rem; text-align: right; padding-right: 0.5rem; font-weight: 600; }

/* Sticky helper: when the taskbar reaches the top we add .taskbar-sticky */
.taskbar-sticky {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    box-shadow: 0 8px 30px rgba(0,0,0,0.4);
}

/* Backdrop element used by the JS sticky code to preserve blur behind the
   taskbar. JS will set sizing/positioning inline; keep these rules as a
   visual fallback and to ensure it sits behind the taskbar. */
.taskbar-backdrop {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: auto;
    z-index: 9997; /* behind the taskbar (taskbar uses 9999) */
    pointer-events: none;
    background: rgba(255,255,255,0.12);
    -webkit-filter: blur(24px);
    filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);
    transition: opacity 150ms linear;
}
.taskbar-placeholder { width: 100%; height: 3.75rem; display: none; }
.taskbar-placeholder.show { display: block; }

/* End copied taskbar styles */